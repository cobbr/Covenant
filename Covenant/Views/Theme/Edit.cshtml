@using Covenant.Models
@using Covenant.Models.Covenant
@using Covenant.Models.Settings
@using Microsoft.AspNetCore.Identity
@model ThemeViewModel
@{
    Layout = "_ThemeLayout";
    ViewData["Title"] = "EditTheme";
    IEnumerable<string> RolesSelected = ViewBag.RolesSelected;
    IEnumerable<string> RolesNotSelected = ViewBag.RolesNotSelected;

    Theme theme = Model.Theme as Theme;
    ThemeOptionsViewModel themeOptions = Model.ThemeOptions as ThemeOptionsViewModel;
}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3">
    <h1 class="h2">Theme: <span id="user-name" class="text-primary">@Html.DisplayFor(model => model.Theme.Name)</span></h1>
</div>

@Html.ValidationSummary(false, "", new { @class = "text-danger" })

<form asp-action="Edit" asp-route-id="@theme.Id">
    <div asp-validation-summary="All" class="text-danger"></div>
    <div class="form-row">
        <div class="form-group col-md-6">
            <label asp-for="@theme.Name"></label>
            <input asp-for="@theme.Name" name="Theme.Name" value="@theme.Name" class="form-control">
        </div>
        <div class="form-group col-md-6">
            <label asp-for="@theme.Description"></label>
            <input asp-for="@theme.Description" name="Theme.Description" value="@theme.Description" class="form-control">
        </div>
    </div>
    @if (User.IsInRole("Administrator"))
    {
        <button type="submit" class="btn btn-primary"><span data-feather="edit"></span> Save</button>
    }
</form>

<hr />

<form asp-action="EditThemeOptions" asp-route-id="@themeOptions.ThemeId">
    <h4>Theme Options</h4>
    <div asp-validation-summary="All" class="text-danger"></div>
    <input asp-for="@themeOptions.ThemeId" name="ThemeId" value="@themeOptions.ThemeId" type="hidden">
    <h5>Background Colors</h5>
    <div class="form-row">
        <div class="form-group col-md-6">
            <label asp-for="@themeOptions.BackgroundColor"></label>
            <input asp-for="@themeOptions.BackgroundColor" name="BackgroundColor" value="@themeOptions.BackgroundColor" class="form-control">
        </div>
        <div class="form-group col-md-6">
            <label asp-for="@themeOptions.SidebarColor"></label>
            <input asp-for="@themeOptions.SidebarColor" name="SidebarColor" value="@themeOptions.SidebarColor" class="form-control">
        </div>
    </div>

    <h5>Navigation Colors</h5>
    <div class="form-row">
        <div class="form-group col-md-6">
            <label asp-for="@themeOptions.TextHeaderColor"></label>
            <input asp-for="@themeOptions.TextHeaderColor" name="TextHeaderColor" value="@themeOptions.TextHeaderColor" class="form-control">
        </div>
        <div class="form-group col-md-6">
            <label asp-for="@themeOptions.NavLinksColor"></label>
            <input asp-for="@themeOptions.NavLinksColor" name="NavLinksColor" value="@themeOptions.NavLinksColor" class="form-control">
        </div>
        <div class="form-group col-md-6">
            <label asp-for="@themeOptions.NavLinksColorSelected"></label>
            <input asp-for="@themeOptions.NavLinksColorSelected" name="NavLinksColorSelected" value="@themeOptions.NavLinksColorSelected" class="form-control">
        </div>
        <div class="form-group col-md-6">
            <label asp-for="@themeOptions.NavLinksColorHover"></label>
            <input asp-for="@themeOptions.NavLinksColorHover" name="NavLinksColorHover" value="@themeOptions.NavLinksColorHover" class="form-control">
        </div>
    </div>

    <h5>Text Colors</h5>
    <div class="form-row">
        <div class="form-group col-md-6">
            <label asp-for="@themeOptions.TextColor"></label>
            <input asp-for="@themeOptions.TextColor" name="TextColor" value="@themeOptions.TextColor" class="form-control">
        </div>
        <div class="form-group col-md-6">
            <label asp-for="@themeOptions.TextLinksColor"></label>
            <input asp-for="@themeOptions.TextLinksColor" name="TextLinksColor" value="@themeOptions.TextLinksColor" class="form-control">
        </div>
        <div class="form-group col-md-6">
            <label asp-for="@themeOptions.TextLinksHoverColor"></label>
            <input asp-for="@themeOptions.TextLinksHoverColor" name="TextLinksHoverColor" value="@themeOptions.TextLinksHoverColor" class="form-control">
        </div>
    </div>

    <h5>Custom CSS</h5>
    <p>Tags should start with either ".standard" or ".dark".</p>
    <div class="form-row">
        <div class="form-group col-md-12">
            <label asp-for="@themeOptions.CustomCss"></label>
            <textarea asp-for="@themeOptions.CustomCss" name="CustomCss" value="@themeOptions.CustomCss" class="form-control" rows="8"></textarea>
        </div>
    </div>

    @if (User.IsInRole("Administrator"))
    {
        <button type="submit" class="btn btn-primary"><span data-feather="edit"></span> Save</button>
    }
</form>

<form asp-action="Delete" asp-route-id="@theme.Id">
    <div asp-validation-summary="All" class="text-danger"></div>
    @if (User.IsInRole("Administrator"))
    {
        <button type="submit" class="btn btn-danger mt-2"><span data-feather="x"></span> Delete</button>
    }
</form>